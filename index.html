<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>For My Love üíñ</title>

<style>
  :root{
    --bg1: rgba(255,105,180,.35);
    --bg2: rgba(0,255,255,.25);
    --bg3: rgba(255,215,0,.20);
    --bg4: rgba(138,43,226,.25);
    --shadow: rgba(0,0,0,.55);
  }

  *{ box-sizing:border-box; }
  body{
    margin:0;
    min-height:100vh;
    display:grid;
    place-items:center;
    overflow:hidden;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

    background:
      radial-gradient(900px 600px at 20% 15%, var(--bg1), transparent 55%),
      radial-gradient(800px 550px at 85% 20%, var(--bg2), transparent 55%),
      radial-gradient(700px 500px at 35% 85%, var(--bg3), transparent 60%),
      radial-gradient(900px 650px at 90% 80%, var(--bg4), transparent 60%),
      linear-gradient(180deg, #060818, #050512);
  }

  /* Floating hearts/confetti layer */
  .fxLayer{
    position:fixed; inset:0;
    pointer-events:none;
    z-index: 5;
  }
  .fx{
    position:absolute;
    opacity:0;
    transform: translate(-50%,-50%) scale(.9);
    animation: floatUp 1.9s ease forwards;
    filter: drop-shadow(0 12px 18px rgba(0,0,0,.35));
    user-select:none;
    white-space:nowrap;
  }
  @keyframes floatUp{
    0%   { opacity:0; transform:translate(-50%,-50%) scale(.9) rotate(-8deg); }
    12%  { opacity:.98; }
    100% { opacity:0; transform:translate(-50%,-200px) scale(1.25) rotate(10deg); }
  }

  .wrap{
    width:min(920px, 92vw);
    padding:18px;
    position:relative;
    z-index: 10;
  }

  .top{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
    margin-bottom:14px;
    flex-wrap:wrap;
    color:#fff;
  }

  .pill{
    display:inline-flex;
    gap:10px;
    align-items:center;
    padding:10px 14px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.25);
    background: rgba(255,255,255,.10);
    backdrop-filter: blur(10px);
    font-size: 13px;
    user-select:none;
    box-shadow: 0 14px 45px rgba(0,0,0,.22);
  }

  .pill b{ font-weight: 800; }

  .card{
    border-radius:26px;
    border:1px solid rgba(255,255,255,.25);
    background: rgba(255,255,255,.10);
    backdrop-filter: blur(14px);
    box-shadow: 0 22px 90px var(--shadow);
    overflow:hidden;
  }

  .stage{
    padding:18px;
    display:grid;
    gap:14px;
  }

  /* ===== Envelope Scene ===== */
  .scene{
    height: 460px;
    border-radius: 20px;
    border: 1px solid rgba(255,255,255,.18);
    background:
      radial-gradient(600px 300px at 50% 20%, rgba(255,255,255,.10), transparent 60%),
      linear-gradient(135deg, rgba(255,255,255,.12), rgba(255,255,255,.05));
    display:grid;
    place-items:center;
    position:relative;
    overflow:hidden;
  }

  .glowBlob{
    position:absolute;
    width: 220px; height: 220px;
    border-radius: 999px;
    filter: blur(30px);
    opacity: .55;
    animation: drift 7s ease-in-out infinite alternate;
  }
  .g1{ left:-60px; top:-60px; background: rgba(255,105,180,.6); }
  .g2{ right:-60px; top:40px; background: rgba(0,255,255,.45); animation-delay: -2s; }
  .g3{ left:30%; bottom:-90px; background: rgba(138,43,226,.55); animation-delay: -4s; }
  @keyframes drift{
    from { transform: translate(0,0) scale(1); }
    to   { transform: translate(35px,25px) scale(1.08); }
  }

  .envWrap{
    width: min(620px, 92%);
    height: 300px;
    position:relative;
    transform-style:preserve-3d;
    cursor:pointer;
  }

  .envBack{
    position:absolute; inset:0;
    border-radius: 20px;
    background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.06));
    border: 1px solid rgba(255,255,255,.22);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
  }

  .envFront{
    position:absolute; inset:0;
    border-radius: 20px;
    background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.03));
    border: 1px solid rgba(255,255,255,.18);
    clip-path: polygon(0 40%, 50% 80%, 100% 40%, 100% 100%, 0 100%);
  }

  .envFlap{
    position:absolute; inset:0;
    border-radius: 20px;
    background: linear-gradient(180deg, rgba(255,255,255,.24), rgba(255,255,255,.06));
    border: 1px solid rgba(255,255,255,.24);
    clip-path: polygon(0 40%, 50% 0, 100% 40%, 50% 78%);
    transform-origin: 50% 40%;
    transform: rotateX(0deg);
    transition: transform .85s cubic-bezier(.2,.95,.15,1);
    filter: drop-shadow(0 12px 22px rgba(0,0,0,.35));
  }

  .opened .envFlap{ transform: rotateX(150deg); }

  .seal{
    position:absolute;
    left:50%; top:62%;
    transform: translate(-50%,-50%);
    width: 74px; height: 74px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,.30);
    background:
      radial-gradient(circle at 30% 25%, rgba(255,255,255,.50), rgba(255,255,255,.16) 45%, rgba(255,255,255,.08));
    box-shadow: 0 20px 50px rgba(0,0,0,.40);
    display:grid;
    place-items:center;
    font-weight: 900;
    user-select:none;
  }
  .seal span{
    font-size: 24px;
    background: linear-gradient(90deg, #ff63c3, #5ef2ff, #ffe066, #b07cff);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    filter: drop-shadow(0 10px 18px rgba(0,0,0,.25));
  }

  /* ===== Controls ===== */
  .actions{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
    flex-wrap:wrap;
    padding-top: 2px;
  }
  .btnRow{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    align-items:center;
  }

  button.actionBtn{
    border:1px solid rgba(255,255,255,.20);
    background: rgba(255,255,255,.10);
    color: rgba(255,255,255,.95);
    padding: 10px 12px;
    border-radius: 14px;
    font-weight: 850;
    cursor:pointer;
    transition: transform .06s ease, background .2s ease, border-color .2s ease;
    user-select:none;
    box-shadow: 0 12px 30px rgba(0,0,0,.30);
  }
  button.actionBtn:hover{ background: rgba(255,255,255,.14); border-color: rgba(255,255,255,.30); }
  button.actionBtn:active{ transform: translateY(1px); }

  .hint{
    color: rgba(255,255,255,.70);
    font-size: 12px;
  }

  .vol{
    display:flex;
    align-items:center;
    gap:8px;
    padding: 8px 10px;
    border-radius: 14px;
    border:1px solid rgba(255,255,255,.18);
    background: rgba(255,255,255,.08);
    color: rgba(255,255,255,.90);
    font-size: 12px;
  }
  .vol input{ width: 120px; }

  /* ===== Modal + Readable Letter ===== */
  .modal{
    position: fixed;
    inset: 0;
    display:grid;
    place-items:center;
    background: rgba(0,0,0,.55);
    backdrop-filter: blur(6px);
    z-index: 9999;         /* IMPORTANT: above everything */
    opacity:0;
    pointer-events:none;
    transition: opacity .25s ease;
    padding: 18px;
  }
  .modal.show{
    opacity:1;
    pointer-events:auto;
  }

  /* Solid paper (readable!) */
  .letterCard{
    width: min(740px, 94vw);
    max-height: min(84vh, 820px);
    border-radius: 22px;
    background: #ffffff;   /* paper */
    color: #1f1f1f;        /* readable text */
    box-shadow: 0 30px 120px rgba(0,0,0,.55);
    overflow:hidden;
    position:relative;
  }

  .letterHeader{
    padding: 16px 16px 12px;
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:12px;
    border-bottom: 1px solid rgba(0,0,0,.08);
    background:
      radial-gradient(600px 220px at 20% 0%, rgba(255,105,180,.14), transparent 60%),
      radial-gradient(560px 220px at 90% 20%, rgba(0,255,255,.12), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,1), rgba(255,255,255,.98));
  }

  .titleBlock h2{
    margin:0;
    font-size: 20px;
    letter-spacing:.2px;
  }
  .titleBlock .mini{
    margin-top: 6px;
    color: rgba(0,0,0,.55);
    font-size: 13px;
  }

  .closeBtn{
    border:1px solid rgba(0,0,0,.12);
    background: rgba(0,0,0,.04);
    color: rgba(0,0,0,.78);
    padding: 10px 12px;
    border-radius: 12px;
    font-weight: 850;
    cursor:pointer;
    transition: transform .06s ease, background .2s ease;
    user-select:none;
  }
  .closeBtn:hover{ background: rgba(0,0,0,.06); }
  .closeBtn:active{ transform: translateY(1px); }

  .letterBody{
    padding: 14px 16px 18px;
    overflow:auto;
    max-height: calc(min(84vh, 820px) - 72px);
  }
  .letterBody p{
    margin: 0;
    white-space: pre-wrap;
    line-height: 1.7;
    font-size: 15.5px;
    color: #1f1f1f;
  }

  .typeCursor{
    display:inline-block;
    width: 8px; height: 16px;
    margin-left: 2px;
    background: #1f1f1f; /* cursor visible on white */
    vertical-align: -2px;
    animation: blink .9s infinite;
  }
  @keyframes blink{0%,49%{opacity:1}50%,100%{opacity:.1}}
</style>
</head>

<body>
  <div class="fxLayer" id="fxLayer"></div>

  <!-- IMPORTANT: Put HappyBirthdayLove.mp3 in the SAME folder as index.html -->
  <audio id="bgm" src="HappyBirthdayLove.mp3" loop preload="auto"></audio>

  <div class="wrap">
    <div class="top">
      <div class="pill">üíå <b>For my love</b> ‚Äî tap the seal to open</div>
      <div class="pill">Sound starts when opened üéµ</div>
    </div>

    <div class="card stage">
      <div class="scene" id="scene">
        <div class="glowBlob g1"></div>
        <div class="glowBlob g2"></div>
        <div class="glowBlob g3"></div>

        <div class="envWrap" id="envWrap" aria-label="Open the letter">
          <div class="envBack"></div>
          <div class="envFront"></div>
          <div class="envFlap"></div>
          <div class="seal" id="seal"><span>ÿ®ÿ≥ŸÖ</span></div>
        </div>
      </div>

      <div class="actions">
        <div class="btnRow">
          <button class="actionBtn" id="openBtn">Open Letter üíñ</button>
          <button class="actionBtn" id="musicBtn">Music: Off üîá</button>
          <button class="actionBtn" id="heartsBtn">More Hearts ü§ç</button>
          <button class="actionBtn" id="confettiBtn">Confetti ‚ú®</button>
          <div class="vol">
            Volume
            <input type="range" id="volSlider" min="0" max="1" step="0.01" value="0.45">
          </div>
        </div>
        <div class="hint">Tip: click anywhere on the scene for flying hearts</div>
      </div>
    </div>
  </div>

  <!-- Readable letter modal -->
  <div class="modal" id="modal">
    <div class="letterCard" role="dialog" aria-modal="true">
      <div class="letterHeader">
        <div class="titleBlock">
          <h2 id="toLine">To: My Love ü§ç</h2>
          <div class="mini">A small note, with du øƒÅ æ ‚Äî made just for you.</div>
        </div>
        <button class="closeBtn" id="closeBtn">Close ‚úï</button>
      </div>
      <div class="letterBody">
        <p id="typed"></p><span class="typeCursor" id="cursor"></span>
      </div>
    </div>
  </div>

<script>
/* ===== EDIT MESSAGE HERE ===== */
const receiverName = "My Love ü§ç";
const message =
`BismillƒÅh.

HAPPY BIRTHDAY SAYANGGGGGGGG, my love  ü§ç

On your birthday, I pray Allah protects your heart,
eases your worries, and guides every step you take.

May He grant you peace when life feels heavy,
strength when you feel tired,
and barakah in everything you do.

For your exams, may Allah make your mind clear,
your efforts meaningful,
and your results a source of ease.

I am grateful for you, today and always.
May Allah keep you under His care.

Semoga hari2 awak akan lebih baik sentiasa
tk kirala bila waktu ada org or tkda, 
klau org yg selalu buat awak sedih, buat awak sakit, 
semoga oneday Tuhan berikan awak yg lebih baik dpt bahagiakan awak,
Maaf sbb tk mampu bgi hadiah bernilai, hadiah org biasa2 saja,
Org mintak maaf klau perangai org selalu buat awak tk tahan, sakit hati,
Org tktau time awak dpt ni kita akan decide bersama lgi or tak, 
klau ya, org tk jamin pon bole berubah ke tak, bknnyer org tknk berubah,
tgokla mcm mana...org sayang awak, tpi org tk pandai nk accept demand org yg tkde depan mata
awak kene sabar smpai kita jumpa brula org lgi better pujuk.
Andai kata kita buat haluan masing2, org harap awak punye hidup lebih baik,
inshaaAllah awak akan jumpa lebih baik, yg lebih pandai buat awak dihargai...
Org mintak maaf....

Ishhhh ni beday awak utk happy2, mne lehh sedih2...

HAPPY 23rd BIRTHDAY SITI SOPEAH SAYANGG ü§çü§çü§çü§çü§ç
Hope you recieved this message in a good health and blessings,
Today is a reminder of how precious your presence is in this world.
I don‚Äôt just celebrate the day you were born 
I‚Äôm grateful for the kindness you carry, the patience you show,
and the quiet strength you have even when things are not easy.

On your birthday, my du øƒÅ æ for you is simple and sincere
May Allah watch over you in moments you feel strong
and especially in moments you feel uncertain.
May He make your heart steady, your intentions pure,
and your path clear even when the destination feels far.

Thank you for being the person you are 
for your sincerity, your gentleness, and your warmth.
You are a blessing in my life in ways I may not always say,
but I feel it every day.

May this new year of your life be filled with growth,
protected from harm, and guided toward what is best for you.
May Allah keep you safe, surround you with goodness,
and grant you a future filled with light.


ƒÄmƒ´n.

‚Äî From someone who loves you ü§ç`;
/* ============================ */

const env = document.getElementById("env");
const modal = document.getElementById("modal");
const typed = document.getElementById("typed");
const cursor = document.getElementById("cursor");
const toLine = document.getElementById("toLine");
const bgm = document.getElementById("bgm");
const fxLayer = document.getElementById("fxLayer");

toLine.textContent = "To: " + receiverName;

let open=false, i=0, timer=null;

function typeText(){
  typed.textContent="";
  i=0;
  timer=setInterval(()=>{
    typed.textContent+=message[i]||"";
    i++;
    if(i>=message.length){
      clearInterval(timer);
      cursor.style.display="none";
    }
  },14);
}

function hearts(x,y,n=14){
  const h=["ü§ç","üíñ","üíó","üíû","üíò"];
  for(let i=0;i<n;i++){
    const e=document.createElement("div");
    e.className="fx";
    e.textContent=h[Math.floor(Math.random()*h.length)];
    e.style.left=(x+Math.random()*200-100)+"px";
    e.style.top=(y+Math.random()*80-40)+"px";
    fxLayer.appendChild(e);
    setTimeout(()=>e.remove(),2000);
  }
}

function openLetter(){
  if(open) return;
  open=true;
  env.classList.add("opened");
  modal.classList.add("show");
  typeText();
  bgm.volume=0.5;
  bgm.play().catch(()=>{});
}

function closeLetter(){
  open=false;
  env.classList.remove("opened");
  modal.classList.remove("show");
  clearInterval(timer);
  cursor.style.display="inline-block";
}

document.getElementById("openBtn").onclick=openLetter;
document.getElementById("musicBtn").onclick=()=> bgm.paused ? bgm.play() : bgm.pause();
document.getElementById("heartBtn").onclick=()=>{
  const r=env.getBoundingClientRect();
  hearts(r.left+r.width/2,r.top+r.height/2,22);
};
env.onclick=openLetter;
modal.onclick=e=>{if(e.target===modal) closeLetter();};
</script>

</body>
</html>

